<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="partials/header :: header(${'Home Page'})">


    <!-- =======================================================
      Theme Name: NiceAdmin
      Theme URL: https://bootstrapmade.com/nice-admin-bootstrap-admin-html-template/
      Author: BootstrapMade
      Author URL: https://bootstrapmade.com
    ======================================================= -->

</head>

<body>
<input type="hidden" id="amadeus-API" th:value="${apikey}" />
<!-- container section start -->
<section id="container" class="">

    <!--header-->
    <header class="header dark-bg">
        <div class="toggle-nav">
            <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"><i class="icon_menu"></i></div>
        </div>

        <!--logo start-->
        <a href="/" class="logo">Viatores <span class="lite">Travel</span></a>
        <!--logo end-->

        <div class="top-nav notification-row">
            <!-- notificatoin dropdown start-->
            <ul class="nav pull-right top-menu">

                <!-- user login dropdown start-->
                <li class="dropdown">
                    <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                          <span class="profile-ava">
                              <!--<img alt="" src="img/avatar1_small.jpg"/>-->
                          </span>
                        <span th:text="${user.username}"></span>
                    </a>
                    <ul class="dropdown-menu extended logout">
                        <li>
                            <a href="/profile">
                                <i class="icon_profile"></i>
                                <span>Profile</span>
                            </a>
                        </li>
                        <div class="log-arrow-up"></div>
                        <li class="eborder-top">
                            <a href="login.html"><i class="icon_key_alt"></i> Log Out</a>
                        </li>
                    </ul>
                </li>
                <!-- user login dropdown end -->
            </ul>
            <!-- notification dropdown end-->
        </div>
    </header>
    <!--sidebar-->
    <aside>
        <div id="sidebar" class="nav-collapse ">
            <!-- sidebar menu start-->
            <ul class="sidebar-menu">
                <li>
                    <a href="/profile">
                        <i class="icon_profile"></i>
                        <span>Profile</span>
                    </a>
                </li>
                <li>
                    <a href="/">
                        <i class="icon_search"></i>
                        <span>Search</span>
                    </a>
                </li>

            </ul>
            <!-- sidebar menu end-->
        </div>
    </aside>
    <!--main content start-->
    <section id="main-content">
        <section class="wrapper">
            <div class="row">
                <div class="col-lg-12">
                    <h3 class="page-header"><i class="fa fa-laptop"></i> Dashboard</h3>
                    <ol class="breadcrumb">
                        <li><i class="fa fa-home"></i><a href="dashboard.html">Home</a></li>
                        <li><i class="fa fa-laptop"></i>Dashboard</li>
                    </ol>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-12">
                    <!--collapse start-->
                    <div class="panel-group m-bot20" id="accordion" th:object="${searches}">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a class="accordion-toggle fa fa-flag-o red" data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
                                        Your saved flights
                                    </a>
                                    <!--<div class="panel-actions">-->
                                        <!--<a href="dashboard.html#" class="btn-setting"><i class="fa fa-rotate-right"></i></a>-->
                                    <!--</div>-->
                                </h4>
                            </div>
                            <div id="collapseOne" class="panel-collapse collapse in">
                                <div class="panel-body" style="overflow-x:auto;">
                                    <div class="container ">
                                        <div>
                                            <form  th:action="@{/search/saveEdit}" id="editionForm" th:object="${mySearch}" method="post" class="hidden">
                                                <h1>Edit Search</h1>
                                                <div class="form-row">
                                                    <div class="col-md-4 mb-3">
                                                        <label for="origin">Select Origin</label>
                                                        <input th:field="*{origin}"  type="text" id="origin" class="airports form-control" aria-describedby="emailHelp" placeholder="" th:required="required"/>
                                                        <div class="invalid-feedback">
                                                            Invalid entry
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4 mb-3">
                                                        <label for="destination">Select Destination</label>
                                                        <input th:field="*{destination}" type="text" id="destination" class="airports form-control" placeholder="Choose an end point" th:required="required" />
                                                        <div class="invalid-feedback">
                                                            Invalid entry
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4 mb-3" style="display: none">
                                                        <label for="destination">Id</label>
                                                        <input th:field="*{id}" type="text" id="id" class="airports form-control" placeholder="id" th:required="required" />
                                                        <div class="invalid-feedback">
                                                            Invalid entry
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-row">
                                                    <div class="col-md-3 mb-3">
                                                        <label for="departure">Departure Date</label>
                                                        <input  th:field="*{start_date}" type="date" id="departure" class="form-control" aria-describedby="emailHelp" placeholder="Select a departure date" th:required="required"/>
                                                        <div class="invalid-feedback">
                                                            Invalid entry
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3 mb-3">
                                                        <label for="returnDate">Return Date</label>
                                                        <input th:field="*{end_date}" type="date" id="returnDate" class="form-control"  placeholder="Select a return date" th:required="required"/>
                                                        <div class="invalid-feedback">
                                                            Invalid entry
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3 mb-3">
                                                        <label for="children">Children</label>
                                                        <input  th:field="*{children}" type="number" id="children" class="form-control"  placeholder="1" th:required="required"/>
                                                        <div class="invalid-feedback">
                                                            Invalid entry
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3 mb-3">
                                                        <label for="adults">Adults</label>
                                                        <input  th:field="*{adults}" type="number" id="adults" class="form-control"  placeholder="1" th:required="required"/>
                                                        <div class="invalid-feedback">
                                                            Invalid entry
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-row">
                                                    <div class="col-md-4 mb-3">
                                                        <label for="price">name a price</label>
                                                        <input th:field="*{price}" type="text" id="price" class="form-control"  placeholder="0.00" th:required="required"/>
                                                        <div class="invalid-feedback">
                                                            Invalid entry
                                                        </div>
                                                    </div>
                                                </div>
                                                <button type="submit" class="subbtn btn btn-primary">Save changes</button>
                                            </form>
                                        </div>
                                        <table class="table table-striped table-advance table-hover"  id="dash">
                                            <tbody>
                                            <tr>
                                                <th><i class="icon_datareport"></i> Origin</th>
                                                <th><i class="icon_datareport"></i> Destination</th>
                                                <th><i class="icon_calendar"></i> Departure</th>
                                                <th><i class="icon_calendar"></i> Return</th>
                                                <th><i class="icon_calendar"></i> price</th>
                                                <th><i class="icon_cogs"></i> adults</th>
                                                <th><i class="icon_cogs"></i> children</th>
                                                <th><i class="icon_cogs"></i><span>Edit</span><span>Delete</span></th>
                                            </tr>

                                            <tr th:each="search : ${searches}" >
                                                <td th:text="${search.origin}" class="searchOrigin"></td>
                                                <td th:text="${search.destination}" class="searchDestination"></td>
                                                <td th:text="${search.simpleDateStart}" class="searchStartDate"></td>
                                                <td th:text="${search.simpleDateEnd}" class="searchEndDate"></td>
                                                <td th:text="${search.price}" class="searchPrice"></td>
                                                <td th:text="${search.adults}" class="searchAdults"></td>
                                                <td th:text="${search.children}" class="searchChildren"></td>
                                                <td style="display: none" th:text="${search.id}" class="searchId"></td>
                                                <td >
                                                    <div class="btn-group d-flex flex-row" >

                                                        <button  type="button" class="btn btn-success edit" name="editSavedSearch" th:id="'editSavedSearch' + ${search.id}" th:value="${search.id}" ><i class="fa fa-edit flex-wrap "></i></button>
                                                        <form th:action="@{/search/deleteSearch}" method="post" >
                                                            <button type="submit" class="btn btn-danger" name="deleteSearch" th:id="'deleteSearch' + ${search.id}" th:value="${search.id}"><i class="icon_close_alt2 "></i></button>
                                                        </form>
                                                    </div>
                                                    <!--<div class="form-check">-->
                                                    <!--<input type="radio" class="form-check-input" name="gridRadios" th:id="${search.id}" th:value="'option'+ ${search.id}" />-->
                                                    <!--<label th:for="${search.id}">  .. .    Details</label>-->
                                                    <!--</div>-->
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--collapse end-->

                </div>
            </div>
            <div class="row">
                <!-- profile-widget -->
                <div class="col-lg-12">
                    <!--<div class="profile-widget profile-widget-info">-->
                    <!--<div class="panel-body">-->
                    <!--</div>-->
                    <!--</div>-->
                </div>
            </div>
            <!-- page start-->
            <div class="row">
                <div class="col-lg-12">
                    <section class="panel">
                        <header class="panel-heading tab-bg-info">
                            <ul class="nav nav-tabs">
                                <li class="active col-sm-4 p-0">
                                    <a data-toggle="tab" href="#recent-activity">
                                        <i class="icon-home"></i>
                                        Manage your trip
                                    </a>
                                </li>
                                <li class="col-sm-4 p-0" id="hotel-tag" >
                                    <a data-toggle="tab" href="#dash-hotel">
                                        <i class="icon-user"></i>
                                        Find hotels
                                    </a>
                                </li>

                                <li class="col-sm-4 p-0" id="dash-poi-tag">
                                    <a data-toggle="tab" href="#dash-poi" >
                                        <i class="icon-envelope"></i>
                                        Find entertainment
                                    </a>
                                </li>
                            </ul>
                        </header>
                        <div class="panel-body">
                            <div class="tab-content">
                                <div id="recent-activity" class="tab-pane active">
                                    <div class="container">
                                        <h6>Create a Reminder</h6>
                                        <form th:action="@{/dashboard}" method="post" th:object="${reminder}">
                                            <select th:field="*{category}">
                                                <option value="Flight">Flight</option>
                                                <option value="Hotel">Hotel</option>
                                                <option value="Car">Car</option>
                                                <option value="Attraction">Attraction</option>
                                            </select>
                                            <input th:field="*{action}" type="text" class="textarea" placeholder="What is this reminder for?"/>
                                            <span>Select a date and time for the reminder</span>
                                            <input th:field="*{date}" type="datetime-local" />
                                            <button type="submit" class="subbtn btn btn-primary">Create Reminder</button>
                                        </form>
                                        <p>Your reminders</p>
                                        <table class="table table-striped table-advance table-hover">
                                            <tbody>
                                            <tr>
                                                <th>Category</th>
                                                <th>Reminder</th>
                                                <th>Date</th>
                                            </tr>
                                            <tr th:each="reminder: ${reminders}">
                                                <td><span th:text="${reminder.category}"></span></td>
                                                <td><span th:text="${reminder.action}"></span></td>
                                                <td><span th:text="${reminder.simpleDate}"><span th:text="${reminder.simpleTime}"></span></span></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <!-- profile -->

                                <div id="dash-hotel" class="tab-pane">
                                    <div class="row">
                                        <div class="container">
                                            <h1 class="col-lg-12 text-center">Choose a destination</h1>

                                        </div>
                                        <div id="hotel-map" class="container-fluid col-lg-12"></div>

                                    </div>
                                </div>
                                <!-- edit-profile -->
                                <!--<div id="dash-rental" class="tab-pane">-->
                                    <!--<div><p>content goes here</p></div>-->
                                <!--</div>-->

                                <div id="dash-poi" class="tab-pane">

                                    <div class="row">

                                        <div class="container">
                                            <h1 class="col-lg-12 text-center">Choose a destination</h1>
                                        </div>
                                        <div id="poiMap" class="container-fluid col-lg-12"></div>

                                        <H2 class="col-lg-12 text-center"> Check out attractions</H2>
                                        <div id="poiPosts" class="row">


                                        </div>
                                    </div>


                                </div>


                            </div>

                        </div>
                    </section>
                </div>
            </div>
            <!-- page end-->
        </section>
    </section>
    <!--main content end-->
    <div class="text-right">
        <div class="credits">
            <!--
              All the links in the footer should remain intact.
              You can delete the links only if you purchased the pro version.
              Licensing information: https://bootstrapmade.com/license/
              Purchase the pro version form: https://bootstrapmade.com/buy/?theme=NiceAdmin
            -->
            <!--Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>-->
        </div>
    </div>
</section>
<div th:replace="partials/footer :: footer"></div>
</body>
</html>
